<div class="min-h-screen flex items-center justify-center">
  <form
    *ngIf="!done"
    [formGroup]="form"
    (submit)="onSubmit()"
    class="flex flex-col w-96 py-4 mx-6"
  >
    <h1 class="text-2xl font-semibold my-2" i18n="@@passwordRecovery">
      Password recovery
    </h1>

    <p class="py-4" i18n="@@passwordRecoveryPrompt">
      No worries! Just enter your email to reset your account password. We will send you
      an email with the link to choose a new password.
    </p>

    <mat-form-field class="my-3" appearance="fill">
      <mat-label i18n="@@yourEmail">Your email</mat-label>
      <input
        matInput
        type="text"
        name="email"
        spellcheck="false"
        formControlName="email"
      />
      <mat-icon matSuffix>mail</mat-icon>
      <mat-hint i18n="@@passwordRecoveryEmailHint">
        Enter your email to receive the instructions
      </mat-hint>

      <mat-error *ngIf="form.get('email')?.hasError('required')">
        <span i18n="@@emailRequiredError">Please enter your email!</span>
      </mat-error>

      <mat-error *ngIf="form.get('email')?.hasError('email')">
        <span i18n="@@emailInvalidError">Please enter a valid email!</span>
      </mat-error>
    </mat-form-field>

    <button mat-flat-button class="my-3 mt-5" color="primary" type="submit">
      <span *ngIf="isLoading" i18n="@@pleaseWait">Please wait...</span>
      <span *ngIf="!isLoading" i18n="@@recoverMyPassword">Recover my password</span>
    </button>

    <a
      type="button"
      color="primary"
      mat-stroked-button
      routerLink="/authentication/signin"
    >
      <span i18n="@@signIn">Sign in</span>
    </a>
  </form>

  <div *ngIf="done" class="flex flex-col w-96 py-4 mx-6">
    <h1 class="text-2xl font-semibold my-2" i18n="@@checkYourEmail">Check Your Email</h1>

    <p class="py-4" i18n="@@checkYourEmailPrompt">
      Perfect! We just sent you an email that contains the instructions for choosing a new
      password.
    </p>

    <p class="py-4 text-sm text-neutral-300" i18n="@@checkYourEmailPrompt2">
      You will not receive an email if you don't already have an account connected to this
      email
    </p>

    <a
      class="my-3"
      mat-flat-button
      color="primary"
      type="button"
      routerLink="/authentication/signin"
    >
      <span i18n="@@signIn">Sign in</span>
    </a>

    <a mat-stroked-button color="primary" type="button" routerLink="/">
      <span i18n="@@goToHomePage">Back to home page</span>
    </a>
  </div>
</div>
